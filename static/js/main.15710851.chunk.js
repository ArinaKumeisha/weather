(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){e.exports={container:"Modal_container__2N80d",modal:"Modal_modal__2vIKd"}},28:function(e,t,n){e.exports={block:"Elements_block__1VvAK",btn:"Elements_btn__2MsGN"}},29:function(e,t,n){e.exports={elem:"Elems_elem__3D6AQ"}},32:function(e,t,n){e.exports={container:"Settings_container__179nZ"}},39:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(11),s=n.n(i),d=(n(39),n(13)),o=n(17),u=n.n(o),b=n(28),j=n.n(b),l=n(29),p=n.n(l),m=n(14),O=n(34),h=n(2),f=n(5),v=n.n(f),_=n(30),x=n.n(_),E=function(e){return x.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=e49884ac099317c54fb2fa8c00755bf8"))};!function(e){e.GET_CITY="WEATHER/GET_NAME",e.SET_ERROR="WEATHER/SET_ERROR",e.UPDATE_DATA="WEATHER/UPDATE_DATA",e.DELETE_DATA="WEATHER/DELETE_DATA",e.SHOW_MODAL="WEATHER/SHOW_MODAL"}(a||(a={}));var g={cities:[],error:"",isModal:!1},T=function(e){return{type:a.GET_CITY,obj:e}},A=function(e){return{type:a.SET_ERROR,error:e}},y=function(e){return{type:a.SHOW_MODAL,isModal:e}},S=n(4),w=n(7),D=n.n(w),N=n(32),M=n.n(N),R=n(1),k=function(e){var t=e.name,n=Object(S.b)();return Object(R.jsxs)("div",{className:M.a.container,children:[Object(R.jsx)("button",{onClick:function(){var e;n((e=t,function(){var t=Object(m.a)(v.a.mark((function t(n){var c,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:c=t.sent,r={name:c.data.name,id:c.data.id,dt:c.data.dt,humidity:c.data.main.humidity,pressure:c.data.main.pressure,temp:c.data.main.temp,deg:c.data.wind.deg,speed:c.data.wind.speed},n((i=r,{type:a.DELETE_DATA,object:i})),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}var i}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))},className:D.a.btn,children:"delete"}),Object(R.jsx)("button",{onClick:function(){var e;n((e=t,function(){var t=Object(m.a)(v.a.mark((function t(n){var c,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:c=t.sent,r={name:c.data.name,id:c.data.id,dt:c.data.dt,humidity:c.data.main.humidity,pressure:c.data.main.pressure,temp:c.data.main.temp,deg:c.data.wind.deg,speed:c.data.wind.speed},n((i=r,{type:a.UPDATE_DATA,object:i})),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}var i}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))},className:D.a.btnRed,children:"update"})]})},C=function(e){var t=e.name,n=e.temp,a=e.speed,c=e.pressure,r=e.humidity,i=e.dt,s=e.deg;return Object(R.jsxs)("div",{className:p.a.elem,children:[Object(R.jsxs)("h2",{children:["City: ",Object(R.jsx)("span",{children:t})]}),Object(R.jsxs)("div",{children:["Temperature:",Object(R.jsxs)("span",{children:[" ",n,"\xba\u0421"]})]}),Object(R.jsxs)("div",{children:["Speed of wind: ",a,"M/C"]}),Object(R.jsxs)("div",{children:["Direction of wind: ",s,"\xba"]}),Object(R.jsxs)("div",{children:["Pressure: ",c]}),Object(R.jsxs)("div",{children:["Humidity:",r]}),Object(R.jsxs)("div",{children:["Last update:",i]}),Object(R.jsx)(k,{name:t})]})},H=function(e){var t=new Date(1e3*e),n=t.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],c=t.getDate(),r=t.getHours()<10?"0".concat(t.getHours()):t.getHours(),i=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes(),s=t.getSeconds()<10?"0".concat(t.getSeconds()):t.getSeconds();return"".concat(c,"  ").concat(a," ").concat(n," ").concat(r,": ").concat(i,": ").concat(s," ")},L=function(e){var t=e.cities;return Object(R.jsx)("div",{className:j.a.block,children:t.map((function(e){return Object(R.jsx)(C,{name:e.name,pressure:e.pressure,humidity:e.humidity,deg:e.deg,temp:+e.temp.toFixed(1),id:e.id,dt:H(e.dt),speed:e.speed},e.id)}))})},W=n(8),F=n.n(W),I=function(e){var t=e.useName,n=e.setUseName,a=e.cities,c=Object(S.b)(),r=function(){c(function(e,t){return function(){var n=Object(m.a)(v.a.mark((function n(a){var c,r,i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(t);case 3:c=n.sent,r={name:c.data.name,id:c.data.id,dt:c.data.dt,humidity:c.data.main.humidity,pressure:c.data.main.pressure,temp:c.data.main.temp,deg:c.data.wind.deg,speed:c.data.wind.speed},i=e.some((function(e){return e.id===r.id})),i?(a(A("this city have added")),a(y(!0))):(a(T(r)),a(y(!1))),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(A("check your request please")),a(y(!0));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(a,t)),n("")};return Object(R.jsxs)("div",{className:F.a.container,children:[Object(R.jsx)("h3",{className:F.a.name,children:"Weather in your city"}),Object(R.jsxs)("div",{className:F.a.settings,children:[Object(R.jsx)("input",{value:t,onChange:function(e){n(e.currentTarget.value),c(A(""))},onFocus:function(){return c(A(""))},className:F.a.input,placeholder:"enter city",onKeyPress:function(e){"Enter"===e.key&&r()}}),Object(R.jsx)("button",{onClick:r,className:D.a.btn,children:"Add"})]})]})},P=n(19),U=n.n(P),J=function(e){var t=e.error,n=Object(c.useState)(!1),a=Object(d.a)(n,2),r=(a[0],a[1]),i=Object(S.c)((function(e){return e.weather.isModal})),s=Object(S.b)();return Object(R.jsx)("div",{className:U.a.container,onClick:function(){t&&(r(!1),s(y(!1)))},children:i&&t&&Object(R.jsx)("div",{className:U.a.modal,children:t})})};var G=function(){var e=Object(S.c)((function(e){return e.weather.error})),t=Object(S.c)((function(e){return e.weather.cities})),n=Object(c.useState)(""),a=Object(d.a)(n,2),r=a[0],i=a[1];return Object(R.jsxs)("div",{className:u.a.app,children:[Object(R.jsx)(I,{useName:r,cities:t,setUseName:i,error:e}),Object(R.jsx)(J,{error:e}),Object(R.jsx)(L,{cities:t,error:e})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},K=n(15),q=n(33),B=Object(K.b)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.GET_CITY:return Object(h.a)(Object(h.a)({},e),{},{cities:[t.obj].concat(Object(O.a)(e.cities))});case a.SET_ERROR:return Object(h.a)(Object(h.a)({},e),{},{error:t.error});case a.UPDATE_DATA:return Object(h.a)(Object(h.a)({},e),{},{cities:e.cities.map((function(e){return e.id===t.object.id?Object(h.a)({},t.object):e}))});case a.DELETE_DATA:return Object(h.a)(Object(h.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.object.id}))});case a.SHOW_MODAL:return Object(h.a)(Object(h.a)({},e),{},{isModal:t.isModal});default:return e}}}),Q=Object(K.c)(B,function(){var e=localStorage.getItem("elems");if(e)return JSON.parse(e)}(),Object(K.a)(q.a));Q.subscribe((function(){localStorage.setItem("elems",JSON.stringify(Q.getState()))})),s.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(S.a,{store:Q,children:Object(R.jsx)(G,{})})}),document.getElementById("root")),Y()},7:function(e,t,n){e.exports={btn:"Styles_btn__3Ek2Y",btnRed:"Styles_btnRed__1eutp"}},8:function(e,t,n){e.exports={container:"Search_container__2UbK6",name:"Search_name__2vCUL",settings:"Search_settings__2vmHR",input:"Search_input__1irlo"}}},[[66,1,2]]]);
//# sourceMappingURL=main.15710851.chunk.js.map